(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{144:function(t,s,e){"use strict";e.r(s);var a=e(0),n=Object(a.a)({},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"content"},[t._m(0),t._m(1),e("p",[e("a",{attrs:{href:"https://www.npmjs.com/package/wx-promise-pro",target:"_blank",rel:"noopener noreferrer"}},[e("img",{attrs:{src:"https://img.shields.io/npm/v/wx-promise-pro.svg",alt:"npm"}}),e("OutboundLink")],1),e("a",{attrs:{href:"https://www.npmjs.com/package/wx-promise-pro",target:"_blank",rel:"noopener noreferrer"}},[e("img",{attrs:{src:"https://img.shields.io/npm/dm/wx-promise-pro.svg",alt:"npm"}}),e("OutboundLink")],1)]),e("p",[e("a",{attrs:{href:"https://nodei.co/npm/wx-promise-pro/",target:"_blank",rel:"noopener noreferrer"}},[e("img",{attrs:{src:"https://nodei.co/npm/wx-promise-pro.png?compact=true",alt:"NPM"}}),e("OutboundLink")],1)]),t._m(2),t._m(3),t._m(4),t._m(5),t._m(6),t._m(7),t._m(8),t._m(9),t._m(10),t._m(11),t._m(12),t._m(13),t._m(14),e("p",[e("router-link",{attrs:{to:"./detail/async.html"}},[t._v("点击")]),t._v(" 查看关于 async 的 demo，或者 "),e("a",{attrs:{href:"http://es6.ruanyifeng.com/#docs/async",target:"_blank",rel:"noopener noreferrer"}},[t._v("点击"),e("OutboundLink")],1),t._v(" 学习 async 的语法。")],1),t._m(15),t._m(16),t._m(17),t._m(18),t._m(19),e("ol",[e("li",[e("router-link",{attrs:{to:"./detail/showTopTips.html"}},[t._v("showTopTips(OBJECT,this)")]),t._v("：顶部提示框")],1),e("li",[e("router-link",{attrs:{to:"./detail/match.html"}},[t._v("match(type,str)")]),t._v("：正则匹配方法")],1),e("li",[t._v("initChart(option,echarts)：初始化 Echarts 的方法")]),e("li",[e("router-link",{attrs:{to:"./detail/lazyInitChart.html"}},[t._v("lazyInitChart(option,echarts,componentId,that)")]),t._v("：echarts 延迟加载模式初始化")],1),t._m(20),e("li",[t._v("saveImageToPhotosAlbum(tempFilePath)：带有授权解决方案的保存图片到系统相册方法")]),e("li",[t._v("canvasToTempFilePath(canvasContext)：把当前画布指定区域的内容导出生成指定大小的图片，并返回文件路径")])]),t._m(21),t._m(22),e("ul",[e("li",[t._v("donghaohao/vuefy "),e("a",{attrs:{href:"https://github.com/donghaohao/vuefy",target:"_blank",rel:"noopener noreferrer"}},[e("img",{attrs:{src:"https://img.shields.io/github/stars/donghaohao/vuefy.svg?style=social&label=Stars",alt:"GitHub stars"}}),e("OutboundLink")],1),t._v("：让小程序支持 watch 和 computed")]),e("li",[t._v("zhengjunxin/wx-queue-request "),e("a",{attrs:{href:"https://github.com/zhengjunxin/wx-queue-request",target:"_blank",rel:"noopener noreferrer"}},[e("img",{attrs:{src:"https://img.shields.io/github/stars/zhengjunxin/wx-queue-request.svg?style=social&label=Stars",alt:"GitHub stars"}}),e("OutboundLink")],1),t._v("：控制微信小程序 wx.request 并发请求数量")]),e("li",[t._v("mengdu/validator.js "),e("a",{attrs:{href:"https://github.com/mengdu/validator.js",target:"_blank",rel:"noopener noreferrer"}},[e("img",{attrs:{src:"https://img.shields.io/github/stars/mengdu/validator.js.svg?style=social&label=Stars",alt:"GitHub stars"}}),e("OutboundLink")],1),t._v("：一个简单的 JavaScript data 验证库")])]),t._m(23),e("p",[t._v("MIT License")]),e("p",[t._v("Copyright (c) 2018 youngjuning")]),e("p",[t._v('Permission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the "Software"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:')]),e("p",[t._v("The above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.")]),e("p",[t._v('THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\nSOFTWARE.')])])},[function(){var t=this.$createElement,s=this._self._c||t;return s("h1",{attrs:{id:"wxpromise"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#wxpromise","aria-hidden":"true"}},[this._v("#")]),this._v(" wxPromise")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("强大的、优雅的 小程序 Promise 库，wxPromise 不仅仅把微信小程序所有异步 API promise 化，还把许多优雅的解决方案封装成方法挂载到 "),s("code",[this._v("wx.pro")]),this._v(" 对象下。所以在 wxPromise 中，pro 既有 promise 的含义又有扩展的意思。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"使用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用","aria-hidden":"true"}},[this._v("#")]),this._v(" 使用")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"普通使用方法"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#普通使用方法","aria-hidden":"true"}},[this._v("#")]),this._v(" 普通使用方法")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("将 "),s("code",[this._v("wxPromise.min.js")]),this._v(" copy 到 utils 目录中，然后在 "),s("code",[this._v("app.js")]),this._v(" 中引入： "),s("code",[this._v("import './utils/wxPromise.min.js'")]),this._v("。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("本库分为两个部分，一部分是将微信小程序原有的API promise 化，一部分是我自己封装的常用方法。两部分的方法都是挂载在 "),s("code",[this._v("wx.pro")]),this._v(" 对象下，使用的时候直接使用 "),s("code",[this._v("wx.pro")]),this._v(" 对象调用即可。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("如果想要支持 async 和 await，请仔细阅读 "),s("strong",[this._v("支持 async和await")]),this._v(" 这一节。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"使用npm"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用npm","aria-hidden":"true"}},[this._v("#")]),this._v(" 使用NPM")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("如果你在小程序项目中使用的 NPM 来作为包管理器，或者你使用 mpvue 开发小程序，那么可以直接使用 npm 来安装 "),s("code",[this._v("wx-promise-pro")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[this._v("npm")]),this._v(" i wx-promise-pro\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("然后使用 nodejs（"),s("code",[this._v("require('wx-promise-pro')")]),this._v("）或者 ES6 Moudle（"),s("code",[this._v("import 'wx-promise-pro'")]),this._v("） 的方式引入。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"支持-async、await"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#支持-async、await","aria-hidden":"true"}},[this._v("#")]),this._v(" 支持 async、await")])},function(){var t=this.$createElement,s=this._self._c||t;return s("blockquote",[s("p",[this._v("由于 wxPromise 是直接内置了 regenerator-runtime，所以推荐使用压缩版，体积不到10k")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("页面引入 regeneratorRuntime: "),s("code",[this._v("import regeneratorRuntime from '/utils/wxPromise.min.js'")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("blockquote",[s("p",[this._v("注意：导入 regeneratorRuntime 和原本 "),s("code",[this._v("wx.pro")]),this._v(" 对象是不冲突的，你如果用不到 async 函数，那么可以不导入 regeneratorRuntime")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"支持所有的微信小程序异步api"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#支持所有的微信小程序异步api","aria-hidden":"true"}},[this._v("#")]),this._v(" 支持所有的微信小程序异步API")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("使用 wxPromise 开发者无需关心兼容与否，只要是 "),s("code",[this._v("wx")]),this._v(" 支持的 api，"),s("code",[this._v("wx.pro")]),this._v(" 全部支持。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("示例代码：")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 演示 wxPromise 的能力")]),t._v("\nwx"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("showLoading")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  title"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'加载中'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  mask"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nwx"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("pro"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("request")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  url"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https://cnodejs.org/api/v1/topics'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  data"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  method"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'GET'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  header"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'content-type'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'application/json'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("res "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("res"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("catch")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("err "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("err"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("finally")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  wx"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("hideLoading")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"扩展的-api"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#扩展的-api","aria-hidden":"true"}},[this._v("#")]),this._v(" 扩展的 API")])},function(){var t=this.$createElement,s=this._self._c||t;return s("li",[this._v("updateChart(chart,option)：echats 没有提供 update 的方法，因此我们利用 "),s("code",[this._v("clear()")]),this._v(" 和 "),s("code",[this._v("setOption()")]),this._v(" api 组合实现了这个功能")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"推荐一波"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#推荐一波","aria-hidden":"true"}},[this._v("#")]),this._v(" 推荐一波")])},function(){var t=this.$createElement,s=this._self._c||t;return s("blockquote",[s("p",[this._v("下面是推荐的库，本来是要集成到wxPromise的。但是考虑到主题相关性和包体积，我并不打算这么做了！！！")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"license"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#license","aria-hidden":"true"}},[this._v("#")]),this._v(" License")])}],!1,null,null,null);n.options.__file="README.md";s.default=n.exports}}]);